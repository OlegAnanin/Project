from tkinter import *
from tkinter.ttk import Combobox

def calculate_kbzu():
    try:
        weight = float(weight_entry.get())
        height = float(height_entry.get())
        age = float(age_entry.get())
        gender = gender_combo.get()
        activity_level = activity_combo.get()
        goal = goal_combo.get()

        # Формула для расчета базового метаболизма (BMR)
        if gender.lower() == 'мужской':
            bmr = 10 * weight + 6.25 * height - 5 * age + 5
        elif gender.lower() == 'женский':
            bmr = 10 * weight + 6.25 * height - 5 * age - 161
        else:
            result_text.set("Некорректно указан пол")
            return

        # Учет цели пользователя
        if goal == 'набрать':
            total_calories += 500  # Дополнительные калории для набора веса
        elif goal == 'сбросить':
            total_calories -= 500  # Сокращение калорий для сброса веса

        # Расчет белков, жиров и углеводов в граммах
        protein = total_calories * 0.2 / 4  # 1 г белка = 4 ккал
        fat = total_calories * 0.3 / 9  # 1 г жира = 9 ккал
        carbohydrates = total_calories * 0.5 / 4  # 1 г углеводов = 4 ккал

        result_text.set(f"КБЖУ:\nКалории: {total_calories:.2f} ккал\nБелки: {protein:.2f} г\nЖиры: {fat:.2f} г\nУглеводы: {carbohydrates:.2f} г")

    except ValueError:
        result_text.set("Введите корректные числовые значения")

# Создаем основное окно
window = Tk()
window.geometry('400x400')  # Размер окна
window.title('Расчет КБЖУ')

# Виджеты для ввода данных
weight_label = Label(window, text="Вес (кг):")
weight_label.grid(column=0, row=0)
weight_entry = Entry(window, width=10)
weight_entry.grid(column=1, row=0)

height_label = Label(window, text="Рост (см):")
height_label.grid(column=0, row=1)
height_entry = Entry(window, width=10)
height_entry.grid(column=1, row=1)

age_label = Label(window, text="Возраст:")
age_label.grid(column=0, row=2)
age_entry = Entry(window, width=10)
age_entry.grid(column=1, row=2)

gender_label = Label(window, text="Пол:")
gender_label.grid(column=0, row=3)
gender_combo = Combobox(window, values=("Мужской", "Женский"))
gender_combo.current(0)
gender_combo.grid(column=1, row=3)

activity_label = Label(window, text="Уровень активности:")
activity_label.grid(column=0, row=4)
activity_combo = Combobox(window, values=("Низкий", "Умеренный", "Высокий", "Очень высокий"))
activity_combo.current(0)
activity_combo.grid(column=1, row=4)

goal_label = Label(window, text="Цель:")
goal_label.grid(column=0, row=5)
goal_combo = Combobox(window, values=("Набрать", "Сбросить", "Сохранить"))
goal_combo.current(0)
goal_combo.grid(column=1, row=5)

# Кнопка для расчета
calculate_button = Button(window, text="Рассчитать", command=calculate_kbzu)
calculate_button.grid(column=0, row=6, columnspan=2)

# Результаты расчета
result_text = StringVar()
result_label = Label(window, textvariable=result_text)
result_label.grid(column=0, row=7, columnspan=2)

window.mainloop()
