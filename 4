from tkinter import *
from tkinter.ttk import Combobox

def calculate_kbzu():
    try:
        weight = float(weight_entry.get())
        height = float(height_entry.get())
        age = float(age_entry.get())
        gender = gender_combo.get()
        activity_level = activity_combo.get()

        # Формула для расчета базового метаболизма (BMR)
        if gender.lower() == 'мужской':
            bmr = 10 * weight + 6.25 * height - 5 * age + 5
        elif gender.lower() == 'женский':
            bmr = 10 * weight + 6.25 * height - 5 * age - 161
        else:
            result_text.set("Некорректно указан пол")
            return

        # Учет уровня физической активности
        activity_multipliers = {
            'низкий': 1.2,
            'умеренный': 1.375,
            'высокий': 1.55,
            'очень высокий': 1.725,
        }
        if activity_level.lower() in activity_multipliers:
            total_calories = bmr * activity_multipliers[activity_level.lower()]
        else:
            result_text.set("Некорректно указан уровень активности")
            return

        result_text.set(f"КБЖУ:\nКалории: {total_calories:.2f}\nБелки: {total_calories * 0.2:.2f} г\nЖиры: {total_calories * 0.3:.2f} г\nУглеводы: {total_calories * 0.5:.2f} г")

    except ValueError:
        result_text.set("Введите корректные числовые значения")

# Создаем основное окно
window = Tk()
window.geometry('400x300')  # Размер окна
window.title('Расчет КБЖУ')

# Виджеты для ввода данных
weight_label = Label(window, text="Вес (кг):")
weight_label.grid(column=0, row=0)
weight_entry = Entry(window, width=10)
weight_entry.grid(column=1, row=0)

height_label = Label(window, text="Рост (см):")
height_label.grid(column=0, row=1)
height_entry = Entry(window, width=10)
height_entry.grid(column=1, row=1)

age_label = Label(window, text="Возраст:")
age_label.grid(column=0, row=2)
age_entry = Entry(window, width=10)
age_entry.grid(column=1, row=2)

gender_label = Label(window, text="Пол:")
gender_label.grid(column=0, row=3)
gender_combo = Combobox(window, values=("Мужской", "Женский"))
gender_combo.current(0)
gender_combo.grid(column=1, row=3)

activity_label = Label(window, text="Уровень активности:")
activity_label.grid(column=0, row=4)
activity_combo = Combobox(window, values=("Низкий", "Умеренный", "Высокий", "Очень высокий"))
activity_combo.current(0)
activity_combo.grid(column=1, row=4)

# Кнопка для расчета
calculate_button = Button(window, text="Рассчитать", command=calculate_kbzu)
calculate_button.grid(column=0, row=5, columnspan=2)

# Результаты расчета
result_text = StringVar()
result_label = Label(window, textvariable=result_text)
result_label.grid(column=0, row=6, columnspan=2)

window.mainloop()
